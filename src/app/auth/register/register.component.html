<div class="container-fluid mmm reg-container">
  <div class="row w-100">
    <div class="col-lg-12 pr-0">
      <div class="login-div" *ngIf="!showOtpScreen && !otpVerified">
        <div class="login-box">
          <h2>Create your account</h2>
          <form role="form" class="form w-100" [formGroup]="form" (ngSubmit)="onSubmit()">

            <div class="w-100">
              <div *ngIf="!!errorMessage" class="form-group">
                <div class="alert alert-danger">
                  <i class="fas fa-exclamation-triangle"></i> &nbsp; {{errorMessage}}
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 reg-col">
                  <div class="form-group">
                    <label class="reg-label">This is my <span class="mandatory">*</span></label>
                    <div class="input-group input-group icon-inp d-flex mt-10">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="fas fa-warehouse"></i></span>
                      </div>
                      <select formControlName="roleType" class=" sel-field" (change)="onRoleType()">
                        <option value="1" selected>Personal Account</option>

                      </select>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 reg-col">
                  <div class="form-group">
                    <label class="reg-label">Name <span class="mandatory">*</span></label>
                    <div class="input-group icon-inp d-flex">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="far fa-user"></i></span>
                      </div>
                      <input formControlName="name" [(ngModel)]="names" type="text" class=" sel-field"
                        placeholder="Enter name" autofocus>
                    </div>

                  </div>
                </div>
                <div class="col-md-6 reg-col">
                  <div class="form-group">
                    <label class="reg-label">Email <span class="mandatory">*</span></label>
                    <div class="input-group icon-inp d-flex">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="far fa-envelope"></i></span>
                      </div>
                      <div>
                        <input formControlName="email" [(ngModel)]="mails" type="email" class=" sel-field"
                          placeholder="Enter email address">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 reg-col">
                  <div class="form-group">
                    <label class="reg-label">Mobile Number (+91)<span class="mandatory">*</span></label>
                    <div class="input-group icon-inp d-flex">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="fas fa-mobile-alt"></i></span>
                      </div>
                      <input formControlName="mobile" type="text" class=" sel-field" required
                        placeholder="Enter mobile number">
                    </div>


                  </div>
                </div>
                <div class="col-md-6 reg-col">
                  <div class="form-group">
                    <label class="reg-label">Heard About Us <span class="mandatory">*</span></label>
                    <div class="input-group icon-inp d-flex mt-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="fas fa-user "></i></span>
                      </div>

                      <select formControlName="heard_us" style="width: 80%; font-size: 11px;
                        margin-left: -7px;" (change)="heardAboutus();"
                        class=" sel-field"
                        required="">
                        <!-- <option selected value="">Select</option> -->
                        <!-- <option value="">Select the Heard About Us</option> -->
                        <option value="1">Google Search</option>
                        <option value="2"> Goldsikka Representative</option>
                        <option value="3">Social Media Add</option>
                        <option value="4"> Radio Add</option>
                        <option value="5"> Word of Mouth</option>
                        <option value="6">Others</option>
                      </select>

                    </div>

                  </div>
                  <div class="form-group" *ngIf="otherHead">
                    <label class="reg-label">Others Heard By</label>
                    <div class="input-group icon-inp">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="fas fa-lock"></i></span>
                      </div>

                      <input type="text" formControlName="heard_others_text" class="form-control sel-field"
                        placeholder="Enter Others Heard By">

                    </div>

                  </div>
                </div>
                <div class="col-md-6 reg-col">
                  <div class="form-group mt5">
                    <label class="reg-label">Referral Code</label>
                    <div class="input-group icon-inp d-flex">
                      <div class="input-group-prepend">
                        <span class="input-group-text icon-span"><i class="fas fa-lock"></i></span>
                      </div>

                      <input type="text" formControlName="referral_code" class=" sel-field"
                        placeholder="Enter your referral code" maxlength="10">

                    </div>
                  </div>
                </div>
              </div>

              <section class="organizationType" *ngIf="isOrganizationType">
                <div class="form-group">
                  <label class="reg-label">Select type <span class="mandatory">*</span></label>
                  <div class="input-group icon-inp">
                    <div class="input-group-prepend">
                      <span style="background: whitesmoke;padding: 0 15px;" class="input-group-text icon-span"><i
                          class="fas fa-user  "></i></span>
                    </div>

                    <select formControlName="organization_type" class="form-control sel-field" required="">
                      <option value="1">Temples</option>
                      <option value="2">NGO</option>
                    </select>

                  </div>
                </div>
              </section>


              <div class="form-group">
                <div class="alert alert-warning">
                  By submitting you agree to our <a href="https://goldsikka.com/disclaimer" target="_blank">terms of
                    service</a>.
                </div>
              </div>

              <div class="form-group">
                <button type="submit" [disabled]="form.invalid" class="btn btn-primary btn-block btn-md">
                  Continue
                  <!-- <i *ngIf="isSubmitting" class="fas fa-spinner fa-spin"></i> -->
                </button>
              </div>
            </div>
          </form>

          <!-- <div class="loading" *ngIf="isSubmitting">
            <i class="fas fa-spinner fa-spin"></i>
          </div> -->
          <div class="form-group text-center mt-5 d-block w-100 sign-up">
            Already have an account? <a routerLink="/login">Sign In</a>
          </div>
        </div>
      </div>


      <div class="login-box" *ngIf="showOtpScreen && !otpVerified">
        <h2 class="mb-3">Enter your OTP</h2>

        <div class="alert alert-info mb-4">
          We have sent you a one time password (OTP) to your registered mobile number "{{f.mobile.value}}".
        </div>
        <div *ngIf="successMessage" class="form-group">
          <div class="alert alert-success">
            <ul>
              <li>{{successMessage}}</li>
            </ul>
          </div>
        </div>
        <div *ngIf="!!errorMessage" class="form-group">
          <div class="alert alert-danger">
            <i class="fas fa-exclamation-triangle"></i> &nbsp; {{errorMessage}}
          </div>
        </div>

        <div class="form-group">
          <div class="otp-input">
            <ng-otp-input (onInputChange)="onOtpChange($event)" [config]="{length:6}"></ng-otp-input>
          </div>
        </div>
        <div class="form-group text-right">
          <a class="text-info" (click)="registerResendOtp();" style="text-transform: capitalize;">Resend OTP</a>
        </div>

        <!-- <div class="loading" *ngIf="isSubmitting">
          <i class="fas fa-spinner fa-spin"></i>
        </div> -->
      </div>

      <div class="alert alert-success mb-4 pt-5 pb-5 text-center w-50 m-auto" *ngIf="otpVerified">
        <i class="fas fa-check-circle fa-3x mb-4"></i>
        <h3 class="mb-4">Account Verified!</h3>
        <a class="btn btn-primary btn-lg btn-block" routerLink="/">Go to Dashboard</a>
      </div>

    </div>
  </div>
</div>
